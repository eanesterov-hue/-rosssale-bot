Задача 1 для разработки: Автовыгрузка отчёта (замена твоей ручной рутины)

Цель: каждый день утром автоматически формировать тот же отчёт, который ты скачиваешь кнопкой, и сохранять файл в стабильное место.

Требования (важно, чтобы не “похоже”, а 1:1):
	•	Отчёт: “Отчет по просмотрам объектов” (как на скрине)
	•	Период: последние 60 дней (rolling window)
	•	Частота: 1 раз в день утром (например, 08:00 по МСК)
	•	Формат: строго такой же, как сейчас (xlsx/CSV — как у кнопки)
	•	Структура: полное совпадение колонок/порядка/названий:
№ | Брокер | Дата | Объект | Статус
	•	Имя файла: фиксированное, например: views_report_last60days.xlsx
	•	Место хранения: сервер/хранилище компании (S3/FS) по стабильному пути
	•	Поведение при пустых данных: файл всё равно создаётся (с заголовками)

Критерий приёмки:
	•	Скачанный вручную файл и автофайл совпадают по структуре и смыслу данных (допустимы различия только по времени генерации/порядку строк, если это неизбежно).

Задача 2 для разработки: Размещение бота на сервере (когда ты дашь “готов”)

Цель: бот перестаёт жить на твоём ноуте и работает 24/7 в контуре компании.

Требования:
	•	Развернуть сервис (контейнер/VM — как принято у вас)
	•	Конфиг через env (пути, токены, режимы)
	•	Источник данных: брать файл из места, куда кладёт задача 1
	•	Логи + рестарт + мониторинг (минимально)
	•	Обновление данных: бот автоматически подхватывает новый файл (например, раз в день после генерации или по событию)

Критерий приёмки:
	•	Бот отвечает так же, как локально, но без твоего участия, и после ежедневной выгрузки работает на свежих данных.

    --------

Интеграция с Whitelist???

Показывает бюджет и количество спален:

Доброе утро.
Параметров:
-бюджет
-количество спален



Версия 2 — фиксируем желание (цель)

V2 = “исключения / точность”: когда мы нашли брокеров по показам в этом ЖК, убрать тех, кто уже “видел” именно этот объект/лот (чтобы не делать лишние касания) и/или тех, кому это точно нерелевантно по уже имеющимся данным в AMA.

5 ключевых вопросов для ТЗ V2
	1.	Что значит “уже видел объект” в AMA?
Это показ конкретного лота/квартиры (уникальный ID)? или достаточно совпадения по полю “Объект” (название проекта/ЖК)?
	2.	Где в AMA хранится связь “показ ↔ конкретная квартира/лот”?
В выгрузке сейчас “Объект” — это проект/ЖК. Есть ли поле “квартира/лот/ссылка WhiteList/ID” в показе или в другой сущности?
	3.	Исключаем на уровне брокера или на уровне клиента?
V2 по минимуму: исключить брокера, если он уже показывал этот объект хоть кому-то.
Более точно: исключать только если этот же клиент уже видел объект (но это сложнее).
	4.	Какой период “считать видел” — всегда или окно времени?
Например: видел за последние 90 дней / 180 дней / вообще когда-либо.
	5.	Какие статусы показов участвуют в “видел”?
Только “Завершен”? или “Запланирован” тоже считается “видел/почти видел”? что делать с “Отменен”?

⸻

Версия 3 — фиксируем желание (почему и что добавляем)

V3 = “умный мэтчинг, когда показов недостаточно/не проставляются/шумные данные”: использовать дополнительные сигналы (заметки, теги, звонки/транскрипты), чтобы находить релевантных брокеров/клиентов даже если по показам пусто или неточно.

5 типичных вопросов для ТЗ V3
	1.	Какая главная причина идти в V3?
Что именно “ломает” V1/V2: показы не ставят, показы ставят без объекта, объект пишут криво, показов мало, клиенты в тексте/мессенджерах?
	2.	Какой источник данных V3 реально доступен в AMA уже сейчас?
Комментарии в сделках? заметки? теги? WhatsApp/Telegram в AMA? звонки?
(Важно: что точно можно выгрузить/получить через API/экспорт.)
	3.	Какой выход V3 хотим видеть?
Всё ещё только “список брокеров” (как V1), или уже нужно “какие клиенты/сделки у этих брокеров” (это резко меняет требования к доступам и данным).
	4.	Какие параметры мэтчинга считаем обязательными?
ЖК/проект? район? бюджет? комнатность? метраж? отделка? срок?
(Чтобы не получилось “AI угадывает всё”.)
	5.	Где будет “точка истины”, что мэтчинг правильный?
Простой критерий: брокер сказал “да, у меня есть такой клиент” (ручная валидация).
Или более строгий: нашли сделку/клиента в AMA, который совпадает по параметрам.